{% set title = "Transactions" %}
{% extends "dashboard.html" %}
{% block content %}
<div class="flex flex-row justify-between gap-x-5">
  <div class="w-1/5 pt-4 px-6 h-44 flex flex-col gap-y-1">
    <span class="text-lg font-semibold text-slate-400 border-b dark:border-slate-800">Accounts</span>
    <div class="text-xs text-slate-300 font-semibold">Account 1</div>
    <div class="text-xs text-slate-300 font-semibold">Account 2</div>
    <div class="text-xs text-slate-300 font-semibold">Account 3</div>
  </div>
  <div class="w-4/5 max-h-dvh">
    <div class="w-full flex justify-between mb-2">
      <div class="sm:col-span-1">
        <label for="hs-as-table-product-review-search" class="sr-only">Search</label>
        <div class="relative">
          <input 
            type="text" 
            id="hs-as-table-product-review-search" 
            name="hs-as-table-product-review-search" 
            class="py-0.5 px-3 ps-11 block w-full border-gray-200 rounded-md text-sm 
            focus:border-slate-500 focus:ring-slate-500 disabled:opacity-50 disabled:pointer-events-none 
            dark:bg-slate-900/50 dark:border-slate-800 dark:text-slate-400 dark:focus:ring-slate-600"
            placeholder="Search">
          <div class="absolute inset-y-0 start-0 flex items-center pointer-events-none ps-3">
            <svg 
              xmlns="http://www.w3.org/2000/svg" 
              width="20" 
              height="20" 
              viewBox="0 0 24 24" 
              fill="none" 
              stroke="currentColor" 
              stroke-width="2" 
              stroke-linecap="round" 
              stroke-linejoin="round" 
              class="lucide lucide-search darK:text-slate-600"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
          </div>
        </div>
      </div>
      <div class="flex gap-x-2">
        <button 
          type="button" 
          title="Add single transaction" 
          class="px-1 py-0.5 inline-flex items-center text-xs font-semibold rounded-md border 
          border-transparent bg-teal-600/10 text-teal-600 ring-1 ring-teal-600 hover:bg-teal-600/15 disabled:opacity-50 
          disabled:pointer-events-none dark:focus:outline-none dark:focus:ring-1 dark:focus:ring-teal-600">
          <svg 
            class="flex shrink-0 size-4"
            xmlns="http://www.w3.org/2000/svg"
            width="20" 
            height="20" 
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        </button>
        <button 
          type="button" 
          title="Filter transactions" 
          class="py-0.5 ps-1.5 pe-2 inline-flex items-center gap-x-1 text-xs font-semibold rounded-md 
          ring-1 dark:ring-slate-900 dark:text-slate-600 hover:bg-slate-900/30 disabled:opacity-50 
          disabled:pointer-events-none dark:focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20" 
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
            class="size-4 lucide lucide-list-filter"><path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/></svg>
          <span class="dark:text-slate-400">Filter</span>
        </button>
        <button 
          hx-get="transactions/upload"
          hx-target="body"
          hx-swap="beforeend"
          type="button" 
          title="Import transactions from a file"
          class="py-0.5 px-1.5 inline-flex items-center gap-x-1 text-xs font-semibold 
          rounded-md ring-1 dark:ring-slate-900 dark:text-slate-600 hover:bg-slate-900/30 
          disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none"
          data-hs-overlay="#upload-file-modal">
          <svg xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" 
            class="lucide lucide-upload flex shrink-0 size-4"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
          <span class="hidden text-slate-400">Import</span>
        </button>

        <!-- Upload modal -->
        <!--
        <div id="upload-file-modal" class="hs-overlay hidden size-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none">
          <div class="hs-overlay-open:mt-0 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-10 opacity-0 transition-all max-w-full max-h-full h-full sm:hs-overlay-open:mt-10 sm:mt-0 sm:max-w-lg sm:max-h-none sm:h-auto sm:mx-auto">
            <form method="post" action="/transactions/upload" enctype="multipart/form-data">
              <div class="flex flex-col bg-white pointer-events-auto max-w-full max-h-full h-full sm:max-w-lg sm:max-h-none sm:h-auto sm:border sm:rounded-xl sm:shadow-sm dark:bg-slate-900 sm:dark:border-slate-800">
                <div class="flex flex-col py-3 px-4">
                  <div class="flex justify-end mb-2">
                    <button type="button" class="flex items-center disabled:opacity-50 disabled:pointer-events-none" data-hs-overlay="#upload-file-modal">
                      <svg class="flex-shrink-0 size-5 dark:text-slate-600 dark:hover:text-slate-500" 
                        xmlns="http://www.w3.org/2000/svg" 
                        width="24" 
                        height="24" 
                        viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 6 6 18"></path>
                        <path d="m6 6 12 12"></path>
                      </svg>
                    </button>
                  </div>
                  <div class="flex items-center justify-center w-full">
                    <div class="flex flex-col items-center justify-center pt-5 pb-6">
                      <svg xmlns="http://www.w3.org/2000/svg" 
                        width="50" 
                        height="50" 
                        viewBox="0 0 24 24" 
                        fill="none" 
                        stroke="currentColor" 
                        stroke-width="1.5" 
                        stroke-linecap="round" 
                        stroke-linejoin="round" 
                        class="text-slate-500 lucide lucide-file-spreadsheet">
                        <path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/>
                        <path d="M14 2v4a2 2 0 0 0 2 2h4"/>
                        <path d="M8 13h2"/>
                        <path d="M14 13h2"/>
                        <path d="M8 17h2"/>
                        <path d="M14 17h2"/></svg>
                      <p class="mb-2 mt-3 text-sm text-slate-500 dark:text-slate-400">Click to upload a csv file</p>
                      <p class="text-xs text-slate-500 dark:text-slate-400">(MAX. 5MB)</p>
                    </div>
                  </div>
                  <div class="px-10">
                    <label>
                      <input name="file" type="file" class="block w-full text-sm text-gray-500
                        file:me-4 file:py-2 file:px-4
                        file:rounded-lg file:border-0
                        file:text-sm file:font-semibold
                        file:bg-teal-700 file:hover:bg-teal-600 file:text-slate-300
                        p-1
                        border rounded-xl dark:border-slate-800
                        file:disabled:opacity-50 file:disabled:pointer-events-none
                      ">
                    </label>
                  </div> 
                </div>
                <div class="flex justify-end items-center gap-x-2 py-3 px-4 mt-auto sm:mt-0">
                  <button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-normal text-slate-400 disabled:opacity-50 disabled:pointer-events-none dark:bg-slate-900 dark:border-gray-700 dark:text-white dark:hover:bg-gray-800" data-hs-overlay="#upload-file-modal">
                    Close
                  </button>
                  <button type="submit" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-teal-600 text-slate-300 hover:bg-teal-700 disabled:opacity-50 disabled:pointer-events-none">
                    Import
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
        -->
        <!-- End upload file modal -->

        <button type="button" title="Download transactions" 
          class="py-0.5 px-1.5 inline-flex items-center gap-x-1 text-xs font-semibold 
          rounded-md ring-1 dark:ring-slate-900 dark:text-slate-600 hover:bg-slate-900/30 
          disabled:opacity-50 disabled:pointer-events-none dark:focus:outline-none 
          dark:focus:ring-1 dark:focus:ring-gray-600">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-down flex shrink-0 size-4"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M12 18v-6"/><path d="m9 15 3 3 3-3"/></svg>
          <span class="hidden text-slate-400">Export</span>
        </button>
      </div>
    </div>
    <!-- edit modal placeholder -->
    <div id="transaction-edit-modal" class="hidden">
    </div>
    <!-- end edit modal placeholder -->
    <div class="-m-1.5">
      <div class="p-1.5 min-w-full inline-block align-middle">
        <div class="overflow-hidden">
          <div class="table border-collapse w-full">
            <div class="table-header-group">
              <div class="table-row dark:bg-slate-900/50">
                <div class="table-cell px-6 py-3 text-start text-xs font-semibold text-slate-500 uppercase rounded-s-md">Date</div>
                <div class="table-cell px-6 py-3 text-start text-xs font-semibold text-slate-500 uppercase">Description</div>
                <div class="table-cell px-6 py-3 text-start text-xs font-semibold text-slate-500 uppercase">Category</div>
                <div class="table-cell px-6 py-3 text-start text-xs font-semibold text-slate-500 uppercase"><span class="flex w-full justify-end">Amount</span></div>
                <div class="table-cell px-6 py-3 text-start text-xs font-semibold text-slate-500 uppercase"></div>
                <div class="table-cell px-6 py-3 text-end text-xs font-semibold text-slate-500 uppercase rounded-e-md"></div>
              </div>
            </div>
            <div class="table-row-group divide-y divide-slate-200 dark:divide-slate-900 dark:border-b-2 dark:border-b-slate-900">
              {% for transaction in transactions %}
                {% include "transactions/list-item.html" %}
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Pagination -->
    <nav class="flex justify-center gap-x-1 mt-6">
      <button type="button" class="min-h-[38px] min-w-[38px] py-2 px-2.5 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10">
        <svg class="flex-shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m15 18-6-6 6-6"></path>
        </svg>
        <span aria-hidden="true" class="sr-only">Previous</span>
      </button>
      <div class="flex items-center gap-x-1">
        <span class="min-h-[38px] min-w-[38px] flex justify-center items-center border border-gray-200 text-gray-800 py-2 px-3 text-sm rounded-lg focus:outline-none focus:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none dark:border-gray-700 dark:text-white dark:focus:bg-white/10">1</span>
        <span class="min-h-[38px] flex justify-center items-center text-gray-500 py-2 px-1.5 text-sm dark:text-gray-500">of</span>
        <span class="min-h-[38px] flex justify-center items-center text-gray-500 py-2 px-1.5 text-sm dark:text-gray-500">3</span>
      </div>
      <button type="button" class="min-h-[38px] min-w-[38px] py-2 px-2.5 inline-flex justify-center items-center gap-x-2 text-sm rounded-lg text-gray-800 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 disabled:opacity-50 disabled:pointer-events-none dark:text-white dark:hover:bg-white/10 dark:focus:bg-white/10">
        <span aria-hidden="true" class="sr-only">Next</span>
        <svg class="flex-shrink-0 size-3.5" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="m9 18 6-6-6-6"></path>
        </svg>
      </button>
    </nav>
    <!-- End Pagination -->
  </div>
</div>
{% endblock %}

